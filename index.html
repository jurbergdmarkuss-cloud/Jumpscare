<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Loading...</title>
<style>
  html,body { height:100%; margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#000; color:#fff; }
  .center { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:12px; }
  .loader { font-size:18px; letter-spacing:1px; color:#bbb; }
  .progress { width:220px; height:8px; background:#222; border-radius:999px; overflow:hidden; }
  .bar { height:100%; width:0%; background:linear-gradient(90deg,#b22222,#ff4d4d); transition:width 0.6s ease; }
  #scare { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:#000; z-index:999; }
  #scare img { max-width:140%; max-height:140%; transform:translateY(0); transition:transform .2s ease; }
  .controls { position:fixed; left:12px; bottom:12px; background:rgba(0,0,0,0.6); padding:8px 10px; border-radius:10px; display:flex; gap:10px; align-items:center; font-size:13px; }
  .warn { font-size:13px; color:#f2c; text-align:center; max-width:320px; }
  button, a { cursor:pointer; }
  #clickScreen { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#000; color:#fff; font-size:18px; text-align:center; padding:20px; cursor:pointer; }
</style>
</head>
<body>

<div id="clickScreen">
  Click anywhere to start the page.
</div>

<div class="center" id="loadingScreen" aria-hidden="false" style="display:none">
  <div class="loader">Loading page... please wait</div>
  <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100">
    <div class="bar" id="bar"></div>
  </div>
  <div class="warn">Warning: This page plays a loud noise. Lower your device volume if needed.</div>
  <div style="margin-top:8px; font-size:12px; color:#999">Tap to trigger the jumpscare</div>
</div>

<!-- SCARY IMAGE -->
<div id="scare" aria-hidden="true">
  <img id="scareImg" src="scary.jpg" alt="scary face" />
</div>

<div class="controls" aria-hidden="false">
  <label style="display:flex;flex-direction:column; font-size:12px;">
    Volume
    <input id="vol" type="range" min="0" max="1" step="0.01" value="0.8">
  </label>
  <button id="mute">Mute</button>
  <a id="replay" style="text-decoration:none;color:#fff;padding:6px 8px;border-radius:6px;background:rgba(255,255,255,0.06)">Replay</a>
</div>

<!-- SCREAM SOUND -->
<audio id="scream" preload="auto">
  <source src="scream.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
const bar = document.getElementById('bar');
const loadingScreen = document.getElementById('loadingScreen');
const scare = document.getElementById('scare');
const scream = document.getElementById('scream');
const vol = document.getElementById('vol');
const muteBtn = document.getElementById('mute');
const replay = document.getElementById('replay');
const clickScreen = document.getElementById('clickScreen');

// Wait for user click to start
clickScreen.addEventListener('click', () => {
  clickScreen.style.display = 'none';
  loadingScreen.style.display = 'flex';
  startLoading();
});

// Fake loading bar
function startLoading() {
  let p = 0;
  function step() {
    if (p >= 98) return;
    p += Math.random()*20 + 5;
    if (p > 98) p = 98;
    bar.style.width = p + '%';
    setTimeout(step, 350 + Math.random()*700);
  }
  step();
  // Trigger jumpscare after 2.8s
  setTimeout(triggerJump, 2800);
}

// Show scary image and play scream
function triggerJump() {
  bar.style.width = '100%';
  loadingScreen.style.display = 'none';
  scare.style.display = 'flex';
  scream.volume = parseFloat(vol.value || 0.8);
  scream.currentTime = 0;
  scream.play().catch(()=>{});
  const img = document.getElementById('scareImg');
  img.style.transform = 'scale(1.1)';
}

// Controls
vol.addEventListener('input', ()=> { scream.volume = parseFloat(vol.value); });
muteBtn.addEventListener('click', ()=>{
  if (scream.muted) { scream.muted = false; muteBtn.textContent = 'Mute'; }
  else { scream.muted = true; muteBtn.textContent = 'Unmute'; }
});
replay.addEventListener('click',(e)=>{
  e.preventDefault();
  scream.currentTime = 0;
  scream.play().catch(()=>{});
  const img = document.getElementById('scareImg');
  img.style.transform = 'scale(1.12)';
  setTimeout(()=> img.style.transform = 'scale(1)', 220);
});
document.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') triggerJump();
});
</script>
</body>
</html>
